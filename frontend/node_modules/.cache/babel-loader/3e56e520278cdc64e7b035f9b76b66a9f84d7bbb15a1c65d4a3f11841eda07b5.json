{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pavit\\\\financial chatbot\\\\frontend\\\\src\\\\components\\\\FileUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport './FileUpload.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onDocumentProcessed\n}) => {\n  _s();\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState('');\n  const onDrop = useCallback(async acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file && file.type === 'application/pdf') {\n      await handleFileUpload(file);\n    } else {\n      setMessage('❌ Please select a valid PDF file');\n      setTimeout(() => setMessage(''), 3000);\n    }\n  }, [onDocumentProcessed]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    multiple: false,\n    maxSize: 50 * 1024 * 1024 // 50MB\n  });\n  const handleFileUpload = async file => {\n    setUploading(true);\n    setMessage('🔄 Processing PDF document...');\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const response = await axios.post('http://localhost:8000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000 // 30 seconds timeout\n      });\n      setMessage('✅ PDF processed successfully! Ready for analysis.');\n      onDocumentProcessed(response.data);\n\n      // Clear success message after 3 seconds\n      setTimeout(() => setMessage(''), 3000);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Upload error:', error);\n      let errorMessage = '❌ Error processing PDF. Please try again.';\n      if (error.code === 'ECONNABORTED') {\n        errorMessage = '❌ Request timeout. The file might be too large.';\n      } else if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 413) {\n        errorMessage = '❌ File too large. Please upload a PDF under 50MB.';\n      } else if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.detail) {\n        errorMessage = `❌ ${error.response.data.detail}`;\n      }\n      setMessage(errorMessage);\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-upload\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `drop-zone ${isDragActive ? 'active' : ''} ${uploading ? 'uploading' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-content\",\n        children: uploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uploading-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Processing PDF...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"This may take a moment for larger files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-icon\",\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"drag-active\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drop the PDF here to upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-instructions\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Drag & drop a financial PDF here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"or click to browse files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"supported-files\",\n              children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Supported: Bank statements, invoices, financial reports\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Max size: 50MB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `upload-message ${message.includes('❌') ? 'error' : 'success'}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(FileUpload, \"Wb3zxZKbzqoV223ZkPb+OOEIqy0=\", false, function () {\n  return [useDropzone];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useCallback","useState","useDropzone","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","FileUpload","onDocumentProcessed","_s","uploading","setUploading","message","setMessage","onDrop","acceptedFiles","file","type","handleFileUpload","setTimeout","getRootProps","getInputProps","isDragActive","accept","multiple","maxSize","formData","FormData","append","response","post","headers","timeout","data","error","_error$response","_error$response2","_error$response2$data","console","errorMessage","code","status","detail","className","children","fileName","_jsxFileName","lineNumber","columnNumber","includes","_c","$RefreshReg$"],"sources":["C:/Users/pavit/financial chatbot/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport './FileUpload.css';\r\n\r\nconst FileUpload = ({ onDocumentProcessed }) => {\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const onDrop = useCallback(async (acceptedFiles) => {\r\n    const file = acceptedFiles[0];\r\n    if (file && file.type === 'application/pdf') {\r\n      await handleFileUpload(file);\r\n    } else {\r\n      setMessage('❌ Please select a valid PDF file');\r\n      setTimeout(() => setMessage(''), 3000);\r\n    }\r\n  }, [onDocumentProcessed]);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    multiple: false,\r\n    maxSize: 50 * 1024 * 1024, // 50MB\r\n  });\r\n\r\n  const handleFileUpload = async (file) => {\r\n    setUploading(true);\r\n    setMessage('🔄 Processing PDF document...');\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:8000/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        timeout: 30000, // 30 seconds timeout\r\n      });\r\n\r\n      setMessage('✅ PDF processed successfully! Ready for analysis.');\r\n      onDocumentProcessed(response.data);\r\n      \r\n      // Clear success message after 3 seconds\r\n      setTimeout(() => setMessage(''), 3000);\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      let errorMessage = '❌ Error processing PDF. Please try again.';\r\n      \r\n      if (error.code === 'ECONNABORTED') {\r\n        errorMessage = '❌ Request timeout. The file might be too large.';\r\n      } else if (error.response?.status === 413) {\r\n        errorMessage = '❌ File too large. Please upload a PDF under 50MB.';\r\n      } else if (error.response?.data?.detail) {\r\n        errorMessage = `❌ ${error.response.data.detail}`;\r\n      }\r\n      \r\n      setMessage(errorMessage);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"file-upload\">\r\n      <div\r\n        {...getRootProps()}\r\n        className={`drop-zone ${isDragActive ? 'active' : ''} ${uploading ? 'uploading' : ''}`}\r\n      >\r\n        <input {...getInputProps()} />\r\n        <div className=\"upload-content\">\r\n          {uploading ? (\r\n            <div className=\"uploading-state\">\r\n              <div className=\"spinner\"></div>\r\n              <p>Processing PDF...</p>\r\n              <small>This may take a moment for larger files</small>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"upload-icon\">📁</div>\r\n              {isDragActive ? (\r\n                <div className=\"drag-active\">\r\n                  <p>Drop the PDF here to upload</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"upload-instructions\">\r\n                  <p><strong>Drag & drop a financial PDF here</strong></p>\r\n                  <p>or click to browse files</p>\r\n                  <div className=\"supported-files\">\r\n                    <small>Supported: Bank statements, invoices, financial reports</small>\r\n                    <small>Max size: 50MB</small>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {message && (\r\n        <div className={`upload-message ${message.includes('❌') ? 'error' : 'success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}